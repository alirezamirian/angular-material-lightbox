!function(t){"use strict";t.module("ame.lightbox",["material.core","material.components.dialog","material.components.button","material.components.radioButton","material.components.progressCircular","material.components.swipe","material.components.icon"])}(angular),function(t){t.module("ame.lightbox").directive("ameOnLoad",function(){return{restrict:"A",link:function(t,n,e){n.bind("load",function(){t.$apply(e.ameOnLoad)})}}})}(angular),function(t){"use strict";function n(n,i){function o(o,l){o=o||[],l=t.extend({},e,l),n.show({templateUrl:"ame/lightbox/dialog-lightbox.html",controller:"AmeLightboxController",controllerAs:"ctrl",targetEvent:l.targetEvent,clickOutsideToClose:!0,onShowing:function(){i(function(){t.isNumber(l.backdropOpacity)&&(document.getElementsByClassName("md-dialog-backdrop")[0].style.opacity=l.backdropOpacity)})},locals:{items:o.map(a),options:l},bindToController:!0})}function a(n){return t.isString(n)?{src:n}:n}return{show:o}}n.$inject=["$mdDialog","$timeout"];var e={buttonClass:"",initialIndex:0,keyboard:!0,showDots:!0,backdropOpacity:null,targetEvent:void 0};t.module("ame.lightbox").constant("ameLightboxDefaults",e).factory("ameLightbox",n)}(angular),function(t){"use strict";function n(n,e,i,o,a,l,r,c){function d(){f.currentIndex=(f.currentIndex+1)%n.length}function g(){var t=f.currentIndex-1;f.currentIndex=(t>=0?t:t+n.length)%n.length}function u(){f.loading=!1,f.resizing=!0,m().then(function(){f.resizing=!1})}function m(){var t=document.getElementById("ame_lightbox_image"),n=t.getElementsByTagName("img")[0],e=s(),i=n.naturalHeight,o=n.naturalWidth;return n.naturalWidth/e.width>n.naturalHeight/e.height?(n.naturalWidth>e.width&&(o=e.width),i=n.naturalHeight*(o/n.naturalWidth)):(n.naturalHeight>e.height&&(i=e.height),o=n.naturalWidth*(i/n.naturalHeight)),t.style.height=i+"px",t.style.width=o+"px",r(200)}function s(){var t=document.documentElement||document.body,n=.8,e=c("gt-xs")?80:0,i=60,o=window.innerWidth||t.clientWidth,a=window.innerHeight||t.clientHeight,l={width:o*n,height:a*n};return l.width>o-2*e&&(l.width=o-2*e),l.height>a-i&&(l.height=a-i),l}function h(){l.bind("keydown",p)}function b(){l.unbind("keydown",p)}function p(t){var n=null;switch(t.keyCode){case 37:case 40:n="rtl"==document.dir?d:g;break;case 39:case 38:n="rtl"==document.dir?g:d}n&&(t.stopPropagation(),t.preventDefault(),a.$apply(n))}function x(){b()}var f=this;return!n.length>0?(i.warn("mde.lightbox: ","calling lightbox without any image!"),void o.cancel()):(f.loading=!0,f.options=e,f.imageLoaded=u,f.currentIndex=Math.max(Math.min(e.initialIndex||0,n.length-1),0),f.prev=g,f.next=d,f.imageWidth=null,f.imageHeight=null,e.keyboard&&h(),a.$on("$destroy",x),void a.$watch(function(){return f.currentIndex},function(n,e){t.isDefined(n)&&t.isDefined(e)&&e!==n&&f.items[n]!==f.items[n]&&(f.loading=!0)}))}n.$inject=["items","options","$log","$mdDialog","$scope","$document","$timeout","$mdMedia"],t.module("ame.lightbox").controller("AmeLightboxController",n)}(angular),function(t){try{t=angular.module("ame.lightbox")}catch(n){t=angular.module("ame.lightbox",[])}t.run(["$templateCache",function(t){t.put("ame/lightbox/dialog-lightbox.html",'<md-dialog class="ame-lightbox" aria-label="Images" ng-class="{\'_loading\': ctrl.loading}">\n    <md-dialog-content>\n        <md-progress-circular ng-if="ctrl.loading"></md-progress-circular>\n        <div id="ame_lightbox_image" md-swipe-left="ctrl.prev()" md-swipe-right="ctrl.next()">\n            <img ame-on-load="ctrl.imageLoaded()"\n                 ng-show="!ctrl.loading && !ctrl.resizing" ng-src="{{ctrl.items[ctrl.currentIndex].src}}"/>\n        </div>\n        <div layout="row" class="_dots" ng-show="ctrl.options.showDots">\n            <md-radio-group ng-model="ctrl.currentIndex">\n                <md-radio-button ng-repeat="item in ctrl.items" ng-value=":: $index"\n                                 aria-label="Image {{:: $index}}"></md-radio-button>\n            </md-radio-group>\n        </div>\n    </md-dialog-content>\n\n    <md-button ng-class="ctrl.options.buttonClass" aria-label="Next" hide-xs\n               class="md-icon-button _next" ng-click="ctrl.next()">\n        <md-icon md-svg-icon="ame/lightbox/icons/ic_chevron_left_black_24px.svg"/>\n    </md-button>\n    <md-button ng-class="ctrl.options.buttonClass" aria-label="Prev" hide-xs\n               class="md-icon-button _prev" ng-click="ctrl.prev()">\n        <md-icon md-svg-icon="ame/lightbox/icons/ic_chevron_left_black_24px.svg"/>\n    </md-button>\n</md-dialog>\n')}])}(),function(t){try{t=angular.module("ame.lightbox")}catch(n){t=angular.module("ame.lightbox",[])}t.run(["$templateCache",function(t){t.put("ame/lightbox/icons/ic_chevron_left_black_24px.svg",'<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>')}])}();